<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Scholarship Explorer for Indian CS Undergraduates (2026)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: "Warm Neutral Harmony" -->
    <!-- Application Structure Plan: The SPA is designed as an interactive dashboard. The primary user flow is: 1. **Overview & High-Level Comparison:** The top section provides key stats and a comparative chart of opportunities by country. This gives an immediate sense of the landscape. 2. **Filtering & Exploration:** A sticky filter bar allows users to narrow down the extensive list by Country, Funding Type, and Application Type. This is the core interaction for personalizing the data. 3. **Detailed View:** The main content area displays scholarship "cards," which are summaries of each opportunity. Clicking a card reveals a detailed modal view with all information, preventing clutter on the main screen. This structure was chosen to manage the high information density of the report, allowing users to move from a broad overview to specific details seamlessly, which is more usable than a long, scrolling document. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Number of scholarships per country -> Goal: Compare regional opportunities -> Viz/Method: Bar Chart (Chart.js/Canvas) -> Interaction: Hover for tooltips showing exact counts -> Justification: Provides a quick, visual summary of where the most opportunities lie.
        - Report Info: Scholarship Tiers (Full vs. Partial) -> Goal: Inform funding landscape -> Viz/Method: Donut Chart (Chart.js/Canvas) -> Interaction: Hover for percentages -> Justification: Instantly communicates the prevalence of partial vs. full funding.
        - Report Info: Detailed scholarship data -> Goal: Organize and display detailed information -> Viz/Method: HTML/CSS Card Layout + Modal -> Interaction: Click card to open modal -> Justification: Manages information density, keeping the main interface clean while providing deep-dive capability.
        - Report Info: All scholarship data points -> Goal: Allow user-defined exploration -> Viz/Method: HTML/CSS Filter buttons + JS logic -> Interaction: Click filters to update displayed cards -> Justification: Empowers users to find scholarships matching their specific criteria (e.g., "India-specific" or "Automatic Application"). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8; /* Warm neutral background */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .modal-content {
            max-height: 80vh;
        }
        .filter-btn.active {
            background-color: #D97706; /* Amber-700 */
            color: white;
            font-weight: 600;
        }
        .sticky-filters {
            position: -webkit-sticky;
            position: sticky;
            top: 0;
            z-index: 40;
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="app" class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-amber-800 mb-2">CS Undergraduate Scholarship Explorer</h1>
            <p class="text-lg text-gray-600">An Interactive Guide for Indian Applicants (2026 Intake)</p>
        </header>

        <main>
            <!-- Overview Section -->
            <section id="overview" class="mb-12 p-6 bg-white rounded-2xl shadow-sm">
                <h2 class="text-2xl font-bold text-amber-700 mb-4 border-b pb-2">Scholarship Landscape Overview</h2>
                <div class="text-gray-700 mb-6">
                    <p>This interactive dashboard synthesizes an exhaustive report on undergraduate Computer Science scholarships for Indian students. The data reveals distinct funding models across regions. Singapore offers comprehensive, bond-linked scholarships. Australia and New Zealand provide automatic, merit-based tuition waivers. In contrast, European opportunities at the undergraduate level are limited, with a strong focus on postgraduate funding. Use the charts and filters below to navigate these opportunities and tailor a strategy to your academic profile.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="chart-container">
                        <canvas id="opportunitiesByCountryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="fundingTypeChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Filters Section -->
            <section id="filters" class="sticky-filters bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-md mb-8">
                <div class="space-y-4">
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Filter by Country</h3>
                        <div id="country-filters" class="flex flex-wrap gap-2">
                            <!-- Country filter buttons will be injected here -->
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Filter by Key Criteria</h3>
                        <div id="criteria-filters" class="flex flex-wrap gap-2">
                             <!-- Criteria filter buttons will be injected here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Scholarship Listings -->
            <section id="scholarship-listings">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-amber-700">Scholarship Opportunities</h2>
                    <p id="scholarship-count" class="text-gray-600 font-medium"></p>
                </div>
                <div id="scholarships-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Scholarship cards will be injected here -->
                </div>
                 <p id="no-results" class="text-center text-gray-500 py-12 text-lg hidden">No scholarships match the selected criteria.</p>
            </section>
        </main>
    </div>

    <!-- Modal -->
    <div id="scholarship-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-3xl transform transition-all">
            <div class="p-6 border-b flex justify-between items-start">
                <div class="pr-4">
                    <h3 id="modal-title" class="text-2xl font-bold text-amber-800"></h3>
                    <p id="modal-university" class="text-gray-600"></p>
                </div>
                <button id="close-modal" class="text-gray-500 hover:text-gray-800 text-3xl font-bold">&times;</button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto modal-content">
                <!-- Modal content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        const scholarshipData = [
            {
                "id": 1,
                "name": "Science & Technology (S&T) Undergraduate Scholarship",
                "university": "National University of Singapore (NUS)",
                "country": "Singapore",
                "qs_rank": 8,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": true,
                "funding_type": "Full",
                "funding_details": "100% subsidized tuition, S$6,000 living allowance, accommodation allowance, S$1,750 computer allowance, S$200 settling-in allowance, airfare.",
                "value_local": "Full Tuition + S$11,000+",
                "value_inr": "Full Tuition + ~â‚¹9,09,000+",
                "value_usd": "Full Tuition + ~$10,900+",
                "renewable": "Yes, with CAP >= 3.5",
                "application_type": "Automatic",
                "deadline": "Early March 2026",
                "eligibility": "Outstanding academics, leadership, co-curriculars. Citizens of Asian countries (excluding Singapore).",
                "docs_required": "Standard admission documents. Personal statement if shortlisted.",
                "min_marks": "Extremely high (e.g., 95%+).",
                "link": "https://nus.edu.sg/oam/scholarships/scholarships-for-freshmen-singapore-permanent-residents/science-technology-undergraduate-scholarship",
                "tips": "Highlight STEM achievements and leadership. Be aware of the 6-year service bond.",
                "interview_required": true,
                "housing_included": true,
                "combinable": false,
                "quota": "Limited, highly competitive."
            },
            {
                "id": 2,
                "name": "Nanyang Global Scholarship",
                "university": "Nanyang Technological University (NTU)",
                "country": "Singapore",
                "qs_rank": 26,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": false,
                "funding_type": "Full",
                "funding_details": "Full subsidized tuition, S$6,500 living allowance, S$2,000 accommodation allowance, S$8,000 travel grant, S$2,000 computer allowance.",
                "value_local": "Full Tuition + S$8,500+",
                "value_inr": "Full Tuition + ~â‚¹7,00,000+",
                "value_usd": "Full Tuition + ~$8,400+",
                "renewable": "Yes, with CGPA >= 3.5",
                "application_type": "Separate",
                "deadline": "Mid-March 2026",
                "eligibility": "Outstanding academics, co-curriculars, leadership potential.",
                "docs_required": "Personal Essay (250 words), one online referee appraisal.",
                "min_marks": "Extremely high.",
                "link": "https://www.ntu.edu.sg/admissions/undergraduate/scholarships/scholarship-listings/detail/nanyang-scholarship",
                "tips": "Submit the separate application. Choose a referee who can provide a strong recommendation. 3-year service bond.",
                "interview_required": true,
                "housing_included": true,
                "combinable": false,
                "quota": "Limited, highly competitive."
            },
            {
                "id": 3,
                "name": "Sydney Scholars India Scholarship Program",
                "university": "University of Sydney",
                "country": "Australia",
                "qs_rank": 36,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Full",
                "funding_details": "Tiered: 2x 100% tuition waiver; 10x AUD 20,000; 16x AUD 10,000.",
                "value_local": "Up to 100% Tuition",
                "value_inr": "Up to 100% Tuition",
                "value_usd": "Up to 100% Tuition",
                "renewable": "Yes (for 100% award), No (for others)",
                "application_type": "Separate",
                "deadline": "Late May 2026",
                "eligibility": "Indian citizen and resident with an unconditional offer.",
                "docs_required": "Online application with personal statements.",
                "min_marks": "Highly competitive.",
                "link": "https://www.sydney.edu.au/scholarships/e/sydney-scholars-india-scholarship-program.html",
                "tips": "Tailor personal statement to show leadership and vision. Apply after getting an unconditional offer.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "28 awards total, 2 are full tuition."
            },
            {
                "id": 4,
                "name": "ANU Chancellor's International Scholarship",
                "university": "Australian National University (ANU)",
                "country": "Australia",
                "qs_rank": 37,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "25% or 50% reduction in tuition fees for the duration of the degree.",
                "value_local": "25-50% Tuition Fee Reduction",
                "value_inr": "Approx. â‚¹6.8L - â‚¹13.7L per year",
                "value_usd": "Approx. $8.2k - $16.5k per year",
                "renewable": "Yes, for program duration",
                "application_type": "Automatic",
                "deadline": "Tied to admission rounds",
                "eligibility": "International student with an offer of admission.",
                "docs_required": "Standard admission documents.",
                "min_marks": "Highly competitive.",
                "link": "https://www.anu.edu.au/study/scholarships/find-a-scholarship/anu-chancellors-international-scholarship",
                "tips": "Strong academic record is key. There is a dedicated quota for South Asian students.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "50 awards for South Asia region."
            },
            {
                "id": 5,
                "name": "Melbourne International Undergraduate Scholarship",
                "university": "University of Melbourne",
                "country": "Australia",
                "qs_rank": 41,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "25% tuition fee remission for the standard duration of the course.",
                "value_local": "25% Tuition Fee Reduction",
                "value_inr": "Approx. â‚¹6.8L per year",
                "value_usd": "Approx. $8.2k per year",
                "renewable": "Yes, with 70% average",
                "application_type": "Automatic",
                "deadline": "End of November 2025",
                "eligibility": "Citizen of an eligible country (India included), completed secondary school outside Australia.",
                "docs_required": "Standard admission documents.",
                "min_marks": "Extremely high (e.g., 96%+ in Indian boards for 2025 entry).",
                "link": "https://scholarships.unimelb.edu.au/awards/melbourne-international-undergraduate-scholarship",
                "tips": "Meeting the high academic threshold is the main criteria.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "At least 110 awards."
            },
            {
                "id": 6,
                "name": "UQ International Excellence Scholarship",
                "university": "University of Queensland (UQ)",
                "country": "Australia",
                "qs_rank": 42,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "25% reduction in tuition fees per semester.",
                "value_local": "25% Tuition Fee Reduction",
                "value_inr": "Varies",
                "value_usd": "Varies",
                "renewable": "Yes, for program duration",
                "application_type": "Automatic",
                "deadline": "Tied to admission rounds",
                "eligibility": "International student with an unconditional offer and competitive score.",
                "docs_required": "Standard admission documents.",
                "min_marks": "Highly competitive (e.g., rank of 99).",
                "link": "https://scholarships.uq.edu.au/scholarship/uq-international-excellence-scholarship",
                "tips": "Top academic percentile is required.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "Limited, competitive."
            },
            {
                "id": 7,
                "name": "International Scientia Coursework Scholarship",
                "university": "University of New South Wales (UNSW)",
                "country": "Australia",
                "qs_rank": 46,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": false,
                "funding_type": "Full",
                "funding_details": "Either 100% full tuition support or AUD 20,000 per annum contribution.",
                "value_local": "100% Tuition or AUD 20,000 p.a.",
                "value_inr": "100% Tuition or ~â‚¹11,00,000 p.a.",
                "value_usd": "100% Tuition or ~$13,200 p.a.",
                "renewable": "Yes, with satisfactory progress",
                "application_type": "Separate",
                "deadline": "31 July 2025 (for Term 1 2026)",
                "eligibility": "High academic achievement, leadership skills, extracurriculars.",
                "docs_required": "Personal statement, details of leadership/extracurriculars.",
                "min_marks": "UNSW's most prestigious scholarship.",
                "link": "https://www.unsw.edu.au/study/how-to-apply/scholarships",
                "tips": "Application must demonstrate impact and leadership, not just list achievements.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "Very limited, extremely competitive."
            },
            {
                "id": 8,
                "name": "NL Scholarship",
                "university": "Delft University of Technology (TU Delft)",
                "country": "Netherlands",
                "qs_rank": 47,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "One-time amount of â‚¬5,000.",
                "value_local": "â‚¬5,000 (one-time)",
                "value_inr": "~â‚¹4,50,000 (one-time)",
                "value_usd": "~$5,400 (one-time)",
                "renewable": "No",
                "application_type": "Separate",
                "deadline": "Feb 1 or Mar 1, 2026",
                "eligibility": "Non-EEA national, applying for a full-time bachelor's degree.",
                "docs_required": "Varies by university, often a motivation letter.",
                "min_marks": "Meet university admission requirements.",
                "link": "https://www.studyinnl.org/finances/nl-scholarship",
                "tips": "This is a government grant, not a full scholarship. Apply directly to the university.",
                "interview_required": false,
                "housing_included": false,
                "combinable": true,
                "quota": "Limited."
            },
            {
                "id": 9,
                "name": "Aalto University Excellence Scholarship",
                "university": "Aalto University",
                "country": "Finland",
                "qs_rank": 109,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": true,
                "funding_type": "Full",
                "funding_details": "100% tuition fee waiver. Does not cover living costs.",
                "value_local": "â‚¬12,000 p.a. (Tuition Waiver)",
                "value_inr": "~â‚¹10,80,000 p.a.",
                "value_usd": "~$12,960 p.a.",
                "renewable": "Yes, with academic progress",
                "application_type": "Automatic",
                "deadline": "Mid-January 2026",
                "eligibility": "Talented non-EU/non-EEA students.",
                "docs_required": "Standard admission documents.",
                "min_marks": "Highest-achieving applicants.",
                "link": "https://www.aalto.fi/en/international-students/scholarships-study-right-started-on-or-after-1-august-2025",
                "tips": "Academic competitiveness is the primary factor.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "Limited, highly competitive."
            },
            {
                "id": 10,
                "name": "India Undergraduate Scholarships",
                "university": "Trinity College Dublin",
                "country": "Ireland",
                "qs_rank": 81,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "Tuition fee reduction, typically â‚¬3,000 to â‚¬5,000.",
                "value_local": "â‚¬3,000-â‚¬5,000",
                "value_inr": "~â‚¹2.7L - â‚¹4.5L",
                "value_usd": "~$3.2k - $5.4k",
                "renewable": "No",
                "application_type": "Separate",
                "deadline": "Late Spring 2026",
                "eligibility": "Residents of India with a Trinity course offer.",
                "docs_required": "Offer Letter, 200-word statement, CV/Resume.",
                "min_marks": "High academic achievement.",
                "link": "https://www.tcd.ie/study/international/scholarships/undergraduate/india.php",
                "tips": "Personal statement should reflect genuine understanding of the Trinity community.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "Limited, competitive."
            },
            {
                "id": 11,
                "name": "University of Auckland India High Achievers Scholarship",
                "university": "University of Auckland",
                "country": "New Zealand",
                "qs_rank": 65,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "Up to NZ$20,000 towards compulsory tuition fees.",
                "value_local": "Up to NZ$20,000",
                "value_inr": "Up to ~â‚¹10,20,000",
                "value_usd": "Up to ~$12,200",
                "renewable": "No",
                "application_type": "Separate",
                "deadline": "Late October 2025",
                "eligibility": "New international student from India.",
                "docs_required": "Academic transcripts, personal statement, referee endorsement.",
                "min_marks": "For 'High Achievers'.",
                "link": "https://www.auckland.ac.nz/en/study/scholarships-and-awards/find-a-scholarship/university-of-auckland-india-high-achievers-scholarship-1143-all.html",
                "tips": "Strong academic merit is the primary selection criterion.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "30 awards biannually."
            },
            {
                "id": 12,
                "name": "University of Otago Global Scholarships",
                "university": "University of Otago",
                "country": "New Zealand",
                "qs_rank": 198,
                "is_international": true,
                "is_indian_specific": true,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "NZ$15,000 towards tuition fees.",
                "value_local": "NZ$15,000",
                "value_inr": "~â‚¹7,65,000",
                "value_usd": "~$9,150",
                "renewable": "No",
                "application_type": "Automatic",
                "deadline": "Tied to admission rounds",
                "eligibility": "New international Bachelor's student from an eligible country (India included).",
                "docs_required": "Respond 'yes' to scholarship question in admission application.",
                "min_marks": "Meet university entrance requirements.",
                "link": "https://www.otago.ac.nz/international/future-students/fees-scholarships/international-scholarships",
                "tips": "Simple application process integrated with admission.",
                "interview_required": false,
                "housing_included": false,
                "combinable": true,
                "quota": "Not specified."
            },
            {
                "id": 13,
                "name": "UC International First Year Scholarship",
                "university": "University of Canterbury",
                "country": "New Zealand",
                "qs_rank": 256,
                "is_international": true,
                "is_indian_specific": false,
                "is_stem_specific": false,
                "funding_type": "Partial",
                "funding_details": "NZ$15,000 towards tuition fees.",
                "value_local": "NZ$15,000",
                "value_inr": "~â‚¹7,65,000",
                "value_usd": "~$9,150",
                "renewable": "No",
                "application_type": "Separate",
                "deadline": "Oct 31, 2025 / Apr 15, 2026",
                "eligibility": "Full-fee paying international student commencing UG degree.",
                "docs_required": "Online application via scholarship portal.",
                "min_marks": "Meet university entrance requirements.",
                "link": "https://www.canterbury.ac.nz/study/getting-started/scholarships/incoming-first-year-scholarships/international-students/",
                "tips": "Selection considers academics, character, and leadership.",
                "interview_required": false,
                "housing_included": false,
                "combinable": false,
                "quota": "Not specified."
            }
        ];

        const countryFlags = {
            "Singapore": "ðŸ‡¸ðŸ‡¬",
            "Australia": "ðŸ‡¦ðŸ‡º",
            "Netherlands": "ðŸ‡³ðŸ‡±",
            "Finland": "ðŸ‡«ðŸ‡®",
            "Ireland": "ðŸ‡®ðŸ‡ª",
            "New Zealand": "ðŸ‡³ðŸ‡¿"
        };
        
        const criteria = [
            { id: 'indian-specific', text: 'ðŸ‡®ðŸ‡³ India Specific' },
            { id: 'full-funding', text: 'ðŸ’° Full Funding' },
            { id: 'automatic-app', text: 'âœ… Automatic Application' },
            { id: 'stem-specific', text: 'ðŸ”¬ STEM Specific' }
        ];

        let activeCountryFilters = [];
        let activeCriteriaFilters = [];

        document.addEventListener('DOMContentLoaded', () => {
            const countryFiltersContainer = document.getElementById('country-filters');
            const criteriaFiltersContainer = document.getElementById('criteria-filters');
            const scholarshipsGrid = document.getElementById('scholarships-grid');
            const scholarshipCount = document.getElementById('scholarship-count');
            const noResults = document.getElementById('no-results');

            const modal = document.getElementById('scholarship-modal');
            const closeModalBtn = document.getElementById('close-modal');

            function setupFilters() {
                const countries = [...new Set(scholarshipData.map(s => s.country))];
                
                // Add "All" button for countries
                let countryButtonsHTML = `<button class="filter-btn active px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="All">All Countries</button>`;
                countries.forEach(country => {
                    countryButtonsHTML += `<button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="${country}">${countryFlags[country]} ${country}</button>`;
                });
                countryFiltersContainer.innerHTML = countryButtonsHTML;

                let criteriaButtonsHTML = '';
                criteria.forEach(c => {
                    criteriaButtonsHTML += `<button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="${c.id}">${c.text}</button>`;
                });
                criteriaFiltersContainer.innerHTML = criteriaButtonsHTML;

                document.querySelectorAll('.filter-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const filter = e.target.dataset.filter;
                        const parentId = e.target.parentElement.id;

                        if (parentId === 'country-filters') {
                             if (filter === 'All') {
                                activeCountryFilters = [];
                                document.querySelectorAll('#country-filters .filter-btn').forEach(btn => btn.classList.remove('active'));
                                e.target.classList.add('active');
                            } else {
                                document.querySelector('#country-filters .filter-btn[data-filter="All"]').classList.remove('active');
                                e.target.classList.toggle('active');
                                if (activeCountryFilters.includes(filter)) {
                                    activeCountryFilters = activeCountryFilters.filter(f => f !== filter);
                                } else {
                                    activeCountryFilters.push(filter);
                                }
                                if (activeCountryFilters.length === 0) {
                                    document.querySelector('#country-filters .filter-btn[data-filter="All"]').classList.add('active');
                                }
                            }
                        } else {
                             e.target.classList.toggle('active');
                             if (activeCriteriaFilters.includes(filter)) {
                                activeCriteriaFilters = activeCriteriaFilters.filter(f => f !== filter);
                            } else {
                                activeCriteriaFilters.push(filter);
                            }
                        }
                        
                        renderScholarships();
                    });
                });
            }

            function renderScholarships() {
                let filteredData = scholarshipData;

                if (activeCountryFilters.length > 0) {
                    filteredData = filteredData.filter(s => activeCountryFilters.includes(s.country));
                }

                activeCriteriaFilters.forEach(filter => {
                    switch(filter) {
                        case 'indian-specific':
                            filteredData = filteredData.filter(s => s.is_indian_specific);
                            break;
                        case 'full-funding':
                            filteredData = filteredData.filter(s => s.funding_type === 'Full');
                            break;
                        case 'automatic-app':
                            filteredData = filteredData.filter(s => s.application_type === 'Automatic');
                            break;
                        case 'stem-specific':
                            filteredData = filteredData.filter(s => s.is_stem_specific);
                            break;
                    }
                });
                
                scholarshipsGrid.innerHTML = '';
                if (filteredData.length > 0) {
                    noResults.classList.add('hidden');
                    scholarshipsGrid.classList.remove('hidden');
                    filteredData.forEach(s => {
                        const card = document.createElement('div');
                        card.className = 'bg-white p-6 rounded-2xl shadow-sm hover:shadow-lg transition-shadow cursor-pointer flex flex-col justify-between';
                        card.dataset.id = s.id;

                        let tagsHTML = `<div class="flex flex-wrap gap-2 mb-3">`;
                        if (s.is_indian_specific) tagsHTML += `<span class="text-xs font-semibold bg-green-100 text-green-800 px-2 py-1 rounded-full">ðŸ‡®ðŸ‡³ India Specific</span>`;
                        if (s.funding_type === 'Full') tagsHTML += `<span class="text-xs font-semibold bg-blue-100 text-blue-800 px-2 py-1 rounded-full">ðŸ’° Full Funding</span>`;
                        if (s.application_type === 'Automatic') tagsHTML += `<span class="text-xs font-semibold bg-purple-100 text-purple-800 px-2 py-1 rounded-full">âœ… Automatic</span>`;
                        tagsHTML += `</div>`;

                        card.innerHTML = `
                            <div>
                                <p class="text-sm text-gray-500 mb-1">${countryFlags[s.country]} ${s.university}</p>
                                <h4 class="text-lg font-bold text-amber-900 mb-2">${s.name}</h4>
                                ${tagsHTML}
                                <p class="text-sm text-gray-700"><span class="font-semibold">Value:</span> ${s.value_local}</p>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100 text-right">
                                <span class="text-sm font-medium text-amber-700 hover:text-amber-600">View Details &rarr;</span>
                            </div>
                        `;
                        card.addEventListener('click', () => openModal(s.id));
                        scholarshipsGrid.appendChild(card);
                    });
                } else {
                    noResults.classList.remove('hidden');
                    scholarshipsGrid.classList.add('hidden');
                }
                scholarshipCount.textContent = `${filteredData.length} scholarships found`;
            }
            
            function openModal(id) {
                const scholarship = scholarshipData.find(s => s.id === id);
                if (!scholarship) return;

                document.getElementById('modal-title').textContent = scholarship.name;
                document.getElementById('modal-university').textContent = `${countryFlags[scholarship.country]} ${scholarship.university} (QS Rank: #${scholarship.qs_rank})`;
                
                const modalContent = document.getElementById('modal-content');
                modalContent.innerHTML = `
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-amber-50 p-4 rounded-lg">
                                <p class="text-sm font-semibold text-amber-800">Funding Details</p>
                                <p class="text-gray-800">${scholarship.funding_details}</p>
                            </div>
                            <div class="bg-amber-50 p-4 rounded-lg">
                                <p class="text-sm font-semibold text-amber-800">Value</p>
                                <p class="text-gray-800"><strong>Local:</strong> ${scholarship.value_local}</p>
                                <p class="text-gray-800"><strong>INR:</strong> ${scholarship.value_inr}</p>
                                <p class="text-gray-800"><strong>USD:</strong> ${scholarship.value_usd}</p>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                            <div class="bg-gray-100 p-3 rounded-lg"><p><span class="font-semibold">Application:</span> ${scholarship.application_type}</p></div>
                            <div class="bg-gray-100 p-3 rounded-lg"><p><span class="font-semibold">Deadline:</span> ${scholarship.deadline}</p></div>
                            <div class="bg-gray-100 p-3 rounded-lg"><p><span class="font-semibold">Renewable:</span> ${scholarship.renewable}</p></div>
                        </div>

                        <div>
                            <h5 class="font-semibold text-gray-800 mb-1">Eligibility Criteria</h5>
                            <p class="text-gray-700">${scholarship.eligibility}</p>
                        </div>
                        <div>
                            <h5 class="font-semibold text-gray-800 mb-1">Application Tips & Notes</h5>
                            <p class="text-gray-700">${scholarship.tips}</p>
                        </div>
                        <div>
                            <a href="${scholarship.link}" target="_blank" class="inline-block bg-amber-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700 transition">
                                Official Scholarship Page â†—
                            </a>
                        </div>
                    </div>
                `;

                modal.classList.remove('hidden');
            }

            closeModalBtn.addEventListener('click', () => modal.classList.add('hidden'));
            modal.addEventListener('click', (e) => {
                if (e.target.id === 'scholarship-modal') {
                    modal.classList.add('hidden');
                }
            });

            function createCharts() {
                const opportunitiesCtx = document.getElementById('opportunitiesByCountryChart').getContext('2d');
                const fundingCtx = document.getElementById('fundingTypeChart').getContext('2d');

                const countryCounts = scholarshipData.reduce((acc, s) => {
                    acc[s.country] = (acc[s.country] || 0) + 1;
                    return acc;
                }, {});

                const fundingCounts = scholarshipData.reduce((acc, s) => {
                    acc[s.funding_type] = (acc[s.funding_type] || 0) + 1;
                    return acc;
                }, {});

                new Chart(opportunitiesCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(countryCounts),
                        datasets: [{
                            label: 'Number of Scholarship Opportunities',
                            data: Object.values(countryCounts),
                            backgroundColor: '#F59E0B', // Amber-500
                            borderColor: '#B45309', // Amber-700
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Opportunities by Country',
                                font: { size: 16 }
                            },
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        }
                    }
                });

                new Chart(fundingCtx, {
                    type: 'doughnut',
                    data: {
                        labels: Object.keys(fundingCounts),
                        datasets: [{
                            label: 'Funding Types',
                            data: Object.values(fundingCounts),
                            backgroundColor: ['#D97706', '#FBBF24'], // Amber-600, Amber-400
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Funding Type Distribution (Full vs. Partial)',
                                font: { size: 16 }
                            },
                            legend: {
                                position: 'bottom',
                            }
                        }
                    }
                });
            }

            setupFilters();
            renderScholarships();
            createCharts();
        });
    </script>
</body>
</html>
