<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global CS Program Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Vibrant Academia -->
    <!-- Application Structure Plan: The application is designed as a single-page interactive dashboard. The primary user goal is to easily compare and explore universities for a CS degree. The structure is task-oriented: 1. **Top-Level Filtering:** Users first select a country, which is the most common initial decision point. This immediately narrows the scope. 2. **Summary View:** A responsive grid of "university cards" provides a high-level, scannable overview of the filtered universities, showing the most critical decision-making data (ranking, fees, rating). This allows for quick initial assessment. 3. **Comparative Visualization:** Key metrics like rankings and tuition fees are visualized in dynamic bar charts that update based on the country filter, allowing for immediate visual comparison of the selected cohort. 4. **Detailed Exploration:** Clicking a card opens a modal window with the full 35-point detail for that university. This keeps the user on the same page, avoiding disorienting navigation. The modal organizes the vast information into logical, tabbed sections (e.g., 'Academics', 'Admissions', 'Costs') to prevent overwhelming the user with a single long scroll. This layered approach—Filter -> Scan -> Visualize -> Detail—creates an intuitive and efficient user flow for exploring complex data. -->
    <!-- Visualization & Content Choices: 1. **University Rankings (Bar Chart):** Report Info: QS World Ranking. Goal: Compare prestige. Viz: Vertical Bar Chart (Chart.js). Interaction: Updates on country filter. Justification: Bar charts are the most effective way to visually compare ranked values. 2. **Tuition Fees (Bar Chart):** Report Info: Estimated Annual Tuition in USD. Goal: Compare costs. Viz: Horizontal Bar Chart (Chart.js). Interaction: Updates on country filter. Justification: Horizontal bars are excellent for comparing financial data and provide ample space for labels. 3. **University Cards (Grid Layout):** Report Info: Name, Location, Rating. Goal: Inform and provide entry point to details. Presentation: HTML/Tailwind card. Interaction: Click to open detail modal. Justification: Cards are a standard, highly effective UI pattern for summarizing items in a collection. 4. **Detailed View (Tabbed Modal):** Report Info: All 35 data points. Goal: Organize and present deep information. Presentation: HTML/Tailwind tabs. Interaction: Click tabs to switch content panels. Justification: Tabs break down a large amount of information into manageable chunks, significantly improving readability and reducing cognitive load. 5. **Pros & Cons (List):** Report Info: Pros/Cons text. Goal: Inform qualitative assessment. Presentation: Styled HTML lists with check/cross icons. Justification: Visual cues (icons) make the lists scannable and immediately understandable. CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --bg-light: #f7fafc;
            --bg-dark: #161b22;
            --text-light-primary: #1a202c;
            --text-light-secondary: #4a5568;
            --text-dark-primary: #e2e8f0;
            --text-dark-secondary: #a0aec0;
            --card-bg-light: #ffffff;
            --card-bg-dark: #1c2128;
            --border-light: #e2e8f0;
            --border-dark: #30363d;
            --accent-color: #3b82f6;
        }
        html.dark { color-scheme: dark; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-light-primary);
            transition: background-color 0.3s, color 0.3s;
        }
        .dark body {
            background-color: var(--bg-dark);
            color: var(--text-dark-primary);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        .custom-scrollbar::-webkit-scrollbar { height: 4px; width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #a0aec0; border-radius: 10px; }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb { background: #4a5568; }
        .modal-card-height { max-height: 90vh; }
        .tab-active { background-color: var(--accent-color); color: white !important; border-color: var(--accent-color); }
        .tab-inactive { background-color: var(--card-bg-light); color: var(--text-light-secondary); border: 1px solid var(--border-light); }
        .dark .tab-inactive { background-color: var(--card-bg-dark); color: var(--text-dark-secondary); border: 1px solid var(--border-dark); }
        .university-card {
            background-color: var(--card-bg-light);
            border: 1px solid var(--border-light);
        }
        .dark .university-card {
            background-color: var(--card-bg-dark);
            border: 1px solid var(--border-dark);
        }
        .gradient-text {
            background: linear-gradient(to right, #4f46e5, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: subtle-glow 4s ease-in-out infinite;
        }
        .dark .gradient-text {
            background: linear-gradient(to right, #818cf8, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .ai-button {
            background-image: linear-gradient(to right, #4f46e5 0%, #3b82f6 51%, #4f46e5 100%);
            background-size: 200% auto;
            transition: background-position 0.5s;
        }
        .ai-button:hover {
            background-position: right center;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: var(--text-light-secondary);
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .dark .typing-indicator span {
            background-color: var(--text-dark-secondary);
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
        @keyframes subtle-glow {
            0%, 100% { filter: drop-shadow(0 0 2px rgba(99, 102, 241, 0.3)); }
            50% { filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.5)); }
        }
        .ask-ai-input:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4);
            border-color: var(--accent-color);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .dark .glass-effect {
            background: rgba(28, 33, 40, 0.3);
            border: 1px solid rgba(48, 54, 61, 1);
        }
        html:not(.dark) #university-modal .text-text-light-primary,
        html:not(.dark) #university-modal .text-text-light-secondary,
        html:not(.dark) #university-modal .dark\:text-text-dark-primary,
        html:not(.dark) #university-modal .dark\:text-text-dark-secondary {
            color: white !important;
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-10 relative">
            <h1 class="text-4xl md:text-5xl font-bold mb-2 gradient-text">Global CS Program Explorer</h1>
            <p class="text-lg text-gray-600 dark:text-gray-400">An Interactive Guide to Top Undergraduate Computer Science Degrees for 2026</p>
            <button id="theme-toggle" class="absolute top-0 right-0 p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                <svg id="theme-toggle-dark-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                <svg id="theme-toggle-light-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05A1 1 0 003.636 6.464l.707.707a1 1 0 001.414-1.414l-.707-.707zM3 11a1 1 0 100-2H2a1 1 0 100 2h1zM13.536 14.95a1 1 0 010-1.414l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414 0z"></path></svg>
            </button>
        </header>

        <nav class="bg-white/70 dark:bg-gray-800/50 backdrop-blur-sm p-4 rounded-xl shadow-lg mb-8 sticky top-4 z-20 flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4 border border-gray-200 dark:border-gray-700">
            <label class="font-semibold text-gray-700 dark:text-gray-200">Filter by Country:</label>
            <div id="country-filter-buttons" class="flex flex-wrap justify-center gap-2">
            </div>
        </nav>

        <main>
            <section id="charts-section" class="mb-12">
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-effect p-6 rounded-2xl shadow-lg">                        <h3 class="text-xl font-bold text-center mb-4 text-text-light-primary dark:text-text-dark-primary">QS World University Ranking (2025)</h3>
                        <div class="chart-container">
                            <canvas id="rankingsChart"></canvas>
                        </div>
                    </div>
                    <div class="glass-effect p-6 rounded-2xl shadow-lg">                        <h3 class="text-xl font-bold text-center mb-4 text-text-light-primary dark:text-text-dark-primary">Estimated Annual Tuition (USD)</h3>
                         <div class="chart-container">
                            <canvas id="tuitionChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="university-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            </section>
        </main>
    </div>

    <div id="university-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-card-bg-light dark:bg-card-bg-dark rounded-2xl shadow-2xl w-full max-w-4xl modal-card-height flex flex-col border border-border-light dark:border-border-dark">
            <div class="p-6 border-b border-border-light dark:border-border-dark flex justify-between items-start">
                <div>
                    <h2 id="modal-university-name" class="text-3xl font-bold text-text-light-primary dark:text-text-dark-primary"></h2>
                    <p id="modal-university-location" class="text-md text-text-light-secondary dark:text-text-dark-secondary"></p>
                </div>
                <button id="close-modal" class="text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500 transition-colors text-3xl font-bold">&times;</button>
            </div>
            
            <div class="p-6 flex-shrink-0">
                <div id="modal-tabs" class="flex flex-nowrap overflow-x-auto custom-scrollbar border-b border-border-light dark:border-border-dark mb-4 -mt-2 space-x-2 pb-2">
                </div>
            </div>

            <div id="modal-content" class="overflow-y-auto custom-scrollbar px-6 pb-6 flex-grow">
            </div>
        </div>
    </div>

    <div id="ask-ai-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-card-bg-light dark:bg-card-bg-dark rounded-2xl shadow-2xl w-full max-w-2xl modal-card-height flex flex-col border border-border-light dark:border-border-dark">
             <div class="p-6 border-b border-border-light dark:border-border-dark flex justify-between items-start">
                <div>
                    <h2 class="text-3xl font-bold text-text-light-primary dark:text-text-dark-primary">Ask AI Anything</h2>
                    <p class="text-md text-text-light-secondary dark:text-text-dark-secondary">Your personal university application assistant.</p>
                </div>
                <button id="close-ask-ai-modal" class="text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500 transition-colors text-3xl font-bold">&times;</button>
            </div>
            <div id="ai-chat-box" class="p-6 flex-1 overflow-y-auto custom-scrollbar space-y-4">
                <!-- Chat messages will be appended here -->
            </div>
            <div class="p-6 border-t border-border-light dark:border-border-dark">
                <div id="ai-thinking-indicator" class="hidden mb-2 flex items-center space-x-2">
                    <span class="text-gray-500 dark:text-gray-400">Thinking</span>
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                </div>
                <div class="flex space-x-2">
                    <input type="text" id="ai-question-input" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" placeholder="Ask about scholarships, applications, etc.">
                    <button id="send-ai-question" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Send</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="text-center py-8 mt-8 border-t border-gray-200 dark:border-gray-700">
        <p class="text-gray-600 dark:text-gray-400">Created by Abhinav. Connect with me on 
            <a href="https://www.linkedin.com/in/abhinavv007/" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:underline font-semibold">LinkedIn</a>.
        </p>
    </footer>

    <script>
        const universityData = [
            { id: 'nus', name: 'National University of Singapore', country: 'Singapore', qsRank: 8, location: 'Singapore, Singapore', website: 'https://cde.nus.edu.sg/ece/undergraduate/computer-engineering-programme/', type: 'Public, Autonomous, Research-intensive', appDeadlines: '20 Nov 2024 to 26 Feb 2025', appOpening: '20 Nov 2024', duration: '4 Years', degree: 'BEng (Computer Engineering)', structure: '160 MCs. Integrates hardware and software.', specializations: ['Digital Systems', 'Large-Scale Computing', 'Intelligent Systems'], research: "UROP", internships: "Mandatory 20-week IA or 12-week VIP.", partners: ['Google', 'Microsoft', 'Intel', 'Nvidia'], admissionReq: 'CBSE/ISC: >95% recommended. Maths & Physics/Chemistry required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 92-93', docs: ['Transcripts', 'Passport', 'Personal Statement'], appFee: 'SGD 20', tuition: 14800, tuitionLocal: 'SGD 20,000 (with MOE Grant)', scholarships: 'ASEAN/S&T Scholarships (Full tuition + allowances).', onCampusHousing: 'Guaranteed for 2 years. SGD 96 - 235/week.', offCampusHousing: 'SGD 700 - 1,400/month for a room.', livingExpenses: 'SGD 1,000 - 2,500/month.', visa: '1-year LTVP to find work.', careerProspects: 'Mean starting salary: SGD 6,300/month.', employability: '9th in the world (GEURS 2025).', alumni: ['Founders of 99.co, Carousell'], intlStudents: '26% - 36%', culture: 'Vibrant, international, highly competitive.', weather: 'Tropical.', reputation: '4th globally for CS, 6th for EEE.', pros: ['Elite global reputation', 'Exceptional career outcomes', 'Strong industry integration'], cons: ['Extremely competitive', 'High-pressure environment', '3-year work bond'], reviews: 'Forums emphasize intense academic rigor.', rating: 9.5 },
            { id: 'ntu', name: 'Nanyang Technological University', country: 'Singapore', qsRank: 26, location: 'Singapore, Singapore', website: 'https://www.ntu.edu.sg/education/undergraduate-programme/bachelor-of-engineering-in-computer-science', type: 'Public, Autonomous, Research-intensive', appDeadlines: '4 Nov 2024 to 19 March 2025', appOpening: '4 Nov 2024', duration: '4 Years', degree: 'BEng in Computer Science', structure: 'AU system. Accredited by EAB Singapore.', specializations: ['AI', 'Big Data', 'Cybersecurity', 'Game Innovation'], research: 'NRP', internships: "Mandatory 20-week PI or 10-week PA.", partners: ['Strong ties with infocomm industry.'], admissionReq: 'CBSE/ISC: >90%. Maths & Physics required.', englishTests: 'IELTS: 6.0, TOEFL iBT: 90', docs: ['Passport', 'Transcripts'], appFee: 'SGD 25', tuition: 14800, tuitionLocal: 'SGD 20,000 (with MOE Grant)', scholarships: 'Nanyang Scholarship (Full tuition + allowances).', onCampusHousing: 'Guaranteed for 2 years. SGD 420 - 630/month.', offCampusHousing: 'SGD 700 - 1,400/month for a room.', livingExpenses: 'SGD 970 - 1,725/month.', visa: '1-year LTVP.', careerProspects: 'Mean starting salary: S$5,800/month.', employability: 'Graduates command highest median salaries in SG tech sector.', alumni: ['Tan Lip-Bu (CEO, Intel)'], intlStudents: '31% - 45%', culture: 'Vibrant, inclusive, "Smart Campus".', weather: 'Tropical.', reputation: '6th globally for CS, 4th for Eng & Tech.', pros: ['Elite global ranking', 'Strong career outcomes', 'Practice-oriented curriculum'], cons: ['Highly competitive', 'Perceived as "second choice" to NUS', '3-year work bond'], reviews: 'Reddit discussions highlight strong theory but emphasize need for self-initiative.', rating: 9.2 },
            { id: 'unimelb', name: 'University of Melbourne', country: 'Australia', qsRank: 13, location: 'Melbourne, Australia', website: 'https://study.unimelb.edu.au/find/courses/undergraduate/bachelor-of-science/', type: 'Public Research University (Go8)', appDeadlines: '31 March 2025 (July intake)', appOpening: 'Open', duration: '3 Years', degree: 'BSc (major in Computing & Software Systems)', structure: '"Melbourne Model" - broad undergrad, specialized postgrad.', specializations: ['AI', 'CS Theory', 'HCI', 'Cybersecurity'], research: 'UROP', internships: 'Encouraged via industry projects.', partners: ['Microsoft', 'Oracle', 'Cisco'], admissionReq: 'CBSE/ISC: 96%+. SAT: 1193-1430.', englishTests: 'IELTS: 6.5, TOEFL iBT: 79', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $150', tuition: 35350, tuitionLocal: 'AUD $49,188 - $57,928', scholarships: 'Melbourne Int\'l Scholarship (25%-100% remission).', onCampusHousing: 'Available. AUD $420 - $850/week.', offCampusHousing: 'Large private rental market.', livingExpenses: 'AUD $1,500 - $2,500/month.', visa: '2-year visa.', careerProspects: 'Many proceed to Master of Engineering.', employability: '8th in the world (QS 2022).', alumni: ['Tech leaders fostered via Melbourne Connect.'], intlStudents: '41%', culture: 'Vibrant, academic, highly international.', weather: 'Temperate oceanic.', reputation: '#1 in Australia for CS.', pros: ['#1 in Australia', 'Outstanding global employability', 'Holistic "Melbourne Model"'], cons: ['Indirect pathway to BEng (requires Master\'s)', 'Very high tuition fees', 'High cost of living'], reviews: 'Praised for flexibility, but some prefer a more direct vocational degree.', rating: 9.3 },
            { id: 'usyd', name: 'University of Sydney', country: 'Australia', qsRank: 18, location: 'Sydney, Australia', website: 'https://www.sydney.edu.au/courses/courses/uc/bachelor-of-engineering-honours-software.html', type: 'Public Research University (Go8)', appDeadlines: '1 Dec (Feb intake), 15 May (Aug intake)', appOpening: 'Open', duration: '4 Years', degree: 'BEng Honours (Software)', structure: 'Accredited engineering degree.', specializations: ['Software Engineering', 'Cybersecurity', 'AI'], research: 'Required Honours thesis.', internships: "Mandatory 12-week industry placement.", partners: ['1200+ industry connections (Microsoft, Google, Atlassian).'], admissionReq: 'ATAR 92 equivalent. SAT: 1310+.', englishTests: 'IELTS: 6.5, TOEFL iBT: 85', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'Varies', tuition: 38100, tuitionLocal: 'AUD $57,700', scholarships: 'Sydney Int\'l Academic Excellence Scholarship (100% tuition).', onCampusHousing: 'Available. AUD $473 - $664/week.', offCampusHousing: 'Available but very expensive.', livingExpenses: 'AUD $1,800 - $2,800/month.', visa: '2-year visa.', careerProspects: 'Highly employable as accredited Software Engineers.', employability: '2nd in Australia for employer reputation.', alumni: ['Dr. John O\'Sullivan (Wi-Fi inventor)'], intlStudents: '44%', culture: 'Historic campus, modern, cosmopolitan.', weather: 'Humid subtropical.', reputation: 'Global Top 20. Strong in Engineering and AI.', pros: ['Elite global ranking', 'Excellent employability', 'Accredited Engineering degree'], cons: ['Very high costs', 'Large & impersonal', 'Highly competitive'], reviews: 'Praised for beautiful campus and social life.', rating: 9.1 },
            { id: 'unsw', name: 'UNSW Sydney', country: 'Australia', qsRank: 19, location: 'Sydney, Australia', website: 'https://www.unsw.edu.au/study/undergraduate/bachelor-of-engineering-honours-computer', type: 'Public Research University (Go8)', appDeadlines: 'Varies by trimester', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Computer Engineering)', structure: '192 UOC over trimester system. Accredited by Engineers Australia.', specializations: ['Embedded Systems', 'Systems-on-a-Chip', 'Software Design'], research: 'Required Honours thesis.', internships: "Mandatory 60 days of Industrial Training.", partners: ['Google', 'Microsoft', 'Meta', 'Tesla', 'Atlassian'], admissionReq: 'ATAR 93 equivalent.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $150', tuition: 38300, tuitionLocal: 'AUD $58,000', scholarships: 'Int\'l Scientia Scholarship (Full tuition or $20k p.a.).', onCampusHousing: 'Available. AUD $348 - $566/week.', offCampusHousing: 'Available in surrounding suburbs.', livingExpenses: 'AUD $1,800 - $2,800/month.', visa: '2-year visa.', careerProspects: '#1 in Australia for employment outcomes.', employability: 'Most Employable Students award (AFR, 2020-2025).', alumni: ['Founders of Eucalyptus, Shippit, Stake.'], intlStudents: '41%', culture: 'Dynamic, innovative, entrepreneurial.', weather: 'Humid subtropical.', reputation: '#1 in Australia for Engineering & Technology.', pros: ['Top-tier Eng & Tech reputation', 'Exceptional employability', 'Research-informed curriculum'], cons: ['Very high costs', 'Intense trimester system', 'Large & competitive'], reviews: 'Praised for industry connections. Trimester system gets mixed reviews.', rating: 9.0 },
            { id: 'monash', name: 'Monash University', country: 'Australia', qsRank: 37, location: 'Melbourne, Australia', website: 'https://www.monash.edu/study/courses/find-a-course/2025/software-engineering-e3001', type: 'Public Research University (Go8)', appDeadlines: 'Open', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Software Engineering)', structure: '4-year accredited professional engineering degree.', specializations: ['Software Engineering within broad engineering foundation.'], research: 'Required final year project.', internships: "Mandatory 12-week industry placement.", partners: ['ANZ', 'Deloitte', 'Microsoft', 'Bosch', 'Telstra'], admissionReq: 'CBSE: 80%, ISC: 75%.', englishTests: 'IELTS: 6.5, TOEFL iBT: 79', docs: ['Transcripts', 'Passport', 'English test'], appFee: 'AUD $125', tuition: 32700, tuitionLocal: 'AUD $49,500', scholarships: 'Monash Int\'l Leadership Scholarship (100% tuition).', onCampusHousing: 'Available. AUD $330 - $399/week.', offCampusHousing: 'Many options in suburbs.', livingExpenses: 'AUD $1,500 - $2,500/month.', visa: '2-year visa.', careerProspects: 'Highly employable as accredited engineers.', employability: 'Strong reputation for work-ready grads.', alumni: ['Le Hong Minh (CEO, VNG Corp)'], intlStudents: '38%', culture: 'Australia\'s largest university, bustling, diverse.', weather: 'Temperate oceanic.', reputation: '62nd globally for CS (QS 2025).', pros: ['Excellent industry integration', 'Strong global ranking', 'Generous scholarships'], cons: ['High tuition', 'Large & impersonal', 'Suburban campus'], reviews: 'IBL program is frequently praised as a major career advantage.', rating: 8.7 },
            { id: 'anu', name: 'Australian National University', country: 'Australia', qsRank: 37, location: 'Canberra, Australia', website: 'https://programsandcourses.anu.edu.au/program/BENCH', type: 'Public Research University (Go8)', appDeadlines: '30 May (July intake), 15 Dec (Feb intake)', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Software Engineering)', structure: '192 units. Accredited professional engineering degree.', specializations: ['Software Engineering', 'AI', 'Robotics', 'Electronics'], research: 'Required Honours project.', internships: 'Unique opportunities in government departments.', partners: 'Strong collaboration with government & security agencies.', admissionReq: 'ATAR 85 equivalent.', englishTests: 'IELTS: 6.5, TOEFL iBT: 80', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $110', tuition: 35400, tuitionLocal: 'AUD $53,700', scholarships: 'ANU Chancellor’s Int\'l Scholarship (25% or 50% waiver).', onCampusHousing: 'Guaranteed for 1st year. AUD $330 - $550/week.', offCampusHousing: 'Competitive rental market.', livingExpenses: 'AUD $1,600 - $2,400/month.', visa: '2-year visa.', careerProspects: 'Excellent pathways into public & private sectors.', employability: '#1 most employable in Australia (THE 2023-24).', alumni: ['Andrew Tridgell (rsync inventor)'], intlStudents: '25% - 48%', culture: 'Research-focused, intellectual, politically aware.', weather: 'Dry, continental.', reputation: 'Highly regarded for theoretical & research strengths.', pros: ['Exceptional reputation', 'Outstanding employability', 'Guaranteed accommodation'], cons: ['High tuition', 'Quieter city', 'Less commercial tech focus'], reviews: 'Praised for close-knit community.', rating: 8.9 },
            { id: 'uq', name: 'University of Queensland', country: 'Australia', qsRank: 42, location: 'Brisbane, Australia', website: 'https://study.uq.edu.au/study-options/programs/bachelor-engineering-honours-software-engineering-2450', type: 'Public Research University (Go8)', appDeadlines: '30 Nov (Feb intake), 31 May (July intake)', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Software Engineering)', structure: '4-year accredited professional engineering degree.', specializations: ['Software Engineering', 'AI', 'Cybersecurity', 'Data Science'], research: 'Required Honours thesis.', internships: "450 hours of mandatory professional practice.", partners: ['Apple', 'Google', 'Microsoft', 'Boeing'], admissionReq: 'Competitive CBSE/ISC. Maths & Physics/Chemistry prerequisite.', englishTests: 'IELTS: 6.5, TOEFL iBT: 87', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'Varies', tuition: 38300, tuitionLocal: 'AUD $58,056', scholarships: 'UQ Int\'l Excellence (25% reduction).', onCampusHousing: 'Available. From AUD $200/week.', offCampusHousing: 'More affordable than Sydney/Melbourne.', livingExpenses: 'AUD $1,600 - $2,500/month.', visa: '2-year visa.', careerProspects: 'High demand for accredited software engineers.', employability: 'Strong reputation, 81% placement rate.', alumni: ['N/A'], intlStudents: '38%', culture: 'Beautiful, vibrant campus, extensive sports.', weather: 'Humid subtropical.', reputation: '#1 in Queensland for CS.', pros: ['Top-tier ranking', 'Strong specializations', 'Affordable lifestyle'], cons: ['High tuition', 'Smaller tech scene than Syd/Melb'], reviews: 'Praised for campus, teaching, and Brisbane lifestyle.', rating: 8.8 },
            { id: 'uwa', name: 'University of Western Australia', country: 'Australia', qsRank: 77, location: 'Perth, Australia', website: 'https://www.uwa.edu.au/study/courses/computer-science', type: 'Public Research University (Go8)', appDeadlines: 'Varies', appOpening: 'Open', duration: '3+2 Years', degree: 'BSc (Computer Science) -> MPE (Software Eng)', structure: '3-year BSc + 2-year accredited Master\'s to become an engineer.', specializations: ['AI', 'Cybersecurity', 'Data Science'], research: 'Required Master\'s thesis.', internships: "Mandatory 12-week practicum in Master's.", partners: ['Strong ties with resources/energy sectors (BHP, Rio Tinto).'], admissionReq: 'CBSE/ISC: 75-80% for BSc.', englishTests: 'IELTS: 6.5, TOEFL iBT: 82', docs: ['Transcripts', 'Passport', 'English test'], appFee: 'AUD $125', tuition: 31700, tuitionLocal: 'AUD $47,950 (for BSc)', scholarships: 'Global Excellence Scholarship (up to AUD $48,000 over 4 years).', onCampusHousing: 'Available. AUD $250 - $450/week.', offCampusHousing: 'Available in nearby suburbs.', livingExpenses: 'AUD $1,400 - $2,200/month.', visa: '2-year visa.', careerProspects: 'Strong in Perth\'s engineering and tech sectors.', employability: 'High, particularly in Western Australia.', alumni: ['N/A'], intlStudents: '24%', culture: 'Beautiful campus, relaxed atmosphere.', weather: 'Mediterranean.', reputation: '#1 university in Western Australia.', pros: ['Go8 member', 'Lower cost of living in Perth', 'Beautiful campus'], cons: ['Indirect pathway to BEng (5 years total)', 'Geographically isolated', 'Smaller tech market'], reviews: 'Praised for its beautiful campus and supportive learning environment.', rating: 8.4 },
            { id: 'adelaide', name: 'University of Adelaide', country: 'Australia', qsRank: 82, location: 'Adelaide, Australia', website: 'https://www.adelaide.edu.au/degree-finder/beng_benghcse.html', type: 'Public Research University (Go8)', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Computer and Software Eng)', structure: '4-year accredited professional engineering degree.', specializations: ['Computer Systems', 'Software Engineering', 'AI', 'Data Science'], research: 'Required final-year Honours project.', internships: "Mandatory 8-week practical placement.", partners: 'Strong links with Australia\'s defence and space industries.', admissionReq: 'CBSE/ISC: 80%+', englishTests: 'IELTS: 6.5, TOEFL iBT: 79', docs: ['Transcripts', 'Passport', 'English test'], appFee: 'AUD $110', tuition: 32700, tuitionLocal: 'AUD $49,500', scholarships: 'Global Academic Excellence Scholarship (50% tuition reduction).', onCampusHousing: 'Available. AUD $200 - $400/week.', offCampusHousing: 'Affordable rental market.', livingExpenses: 'AUD $1,300 - $2,000/month.', visa: '2-year visa.', careerProspects: 'Excellent in defence, space, and high-tech manufacturing.', employability: 'Strong, with close industry ties in South Australia.', alumni: ['N/A'], intlStudents: '30%', culture: 'Historic city campus, strong research focus.', weather: 'Mediterranean.', reputation: 'Highly respected for engineering and computer science.', pros: ['Go8 member with direct BEng', 'Lower cost of living', 'Ties to growing defence/space industries'], cons: ['Smaller city and tech market', 'Less global name recognition'], reviews: 'Positive reviews on teaching quality and city affordability.', rating: 8.5 },
            { id: 'uts', name: 'University of Technology Sydney', country: 'Australia', qsRank: 88, location: 'Sydney, Australia', website: 'https://www.uts.edu.au/study/find-a-course/bachelor-engineering-honours-diploma-professional-engineering-practice', type: 'Public Technology University', appDeadlines: 'Varies', appOpening: 'Open', duration: '5 Years', degree: 'BEng (Honours) (Software) with Diploma', structure: '5-year integrated program with two 6-month industry placements.', specializations: ['Software Engineering', 'AI', 'Cybersecurity', 'Data Analytics'], research: 'Research-active with 45+ research centres.', internships: "Two mandatory 6-month internships.", partners: 'Strong collaboration through Diploma program.', admissionReq: 'Competitive CBSE/ISC.', englishTests: 'IELTS: 6.5, TOEFL iBT: 79-93', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'Varies', tuition: 30400, tuitionLocal: 'AUD $46,080 (indicative)', scholarships: 'Vice-Chancellor’s Int\'l Scholarship (full tuition).', onCampusHousing: 'Available. From AUD $180/week.', offCampusHousing: 'Wide range, but expensive.', livingExpenses: 'AUD $1,800 - $2,800/month.', visa: '2-year visa.', careerProspects: 'Work-ready grads with a full year of experience.', employability: 'Known as one of Australia\'s most industry-focused universities.', alumni: ['N/A'], intlStudents: 'N/A', culture: 'Modern, innovative, industry-focused.', weather: 'Humid subtropical.', reputation: 'Highly ranked young uni. #1 in Australia for AI research.', pros: ['Deep industry integration', 'Prime city-center location', 'Strong practical focus'], cons: ['High cost of living', 'Longer degree duration (5 years)'], reviews: 'Praised for modern approach and focus on job-readiness.', rating: 8.6 },
            { id: 'qut', name: 'Queensland University of Technology', country: 'Australia', qsRank: 179, location: 'Brisbane, Australia', website: 'https://www.qut.edu.au/courses/bachelor-of-engineering-computer-and-software-systems-honours', type: 'Public Technology University', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Computer and Software Systems)', structure: '4-year accredited engineering degree with a strong practical focus.', specializations: ['Software Systems', 'Computer Systems', 'Robotics'], research: 'Final year Honours research project.', internships: "Mandatory 60 days of work-integrated learning.", partners: 'Strong links with Brisbane\'s tech and engineering firms.', admissionReq: 'CBSE/ISC: 75%+', englishTests: 'IELTS: 6.5, TOEFL iBT: 79', docs: ['Transcripts', 'Passport', 'English test'], appFee: 'AUD $100', tuition: 27400, tuitionLocal: 'AUD $41,400', scholarships: 'International Merit Scholarship (25% tuition fee reduction).', onCampusHousing: 'Partners with providers.', offCampusHousing: 'Affordable options in Brisbane.', livingExpenses: 'AUD $1,400 - $2,200/month.', visa: '2-year visa.', careerProspects: 'Strong, with a focus on practical, job-ready skills.', employability: 'High, known for "real-world" focus.', alumni: ['N/A'], intlStudents: '18%', culture: 'Modern, vibrant, city-based campus.', weather: 'Humid subtropical.', reputation: 'Australia\'s top young university.', pros: ['Strong practical focus', 'Affordable tuition and living costs', 'Modern city campus'], cons: ['Lower global ranking than Go8', 'Smaller international reputation'], reviews: 'Praised for its hands-on approach and connection to industry.', rating: 8.1 },
            { id: 'tudelft', name: 'Delft University of Technology', country: 'Netherlands', qsRank: 49, location: 'Delft, Netherlands', website: 'https://www.tudelft.nl/onderwijs/opleidingen/bachelor/bsc-computer-science-and-engineering', type: 'Public Technical University', appDeadlines: '15 Jan 2025 (Numerus Fixus)', appOpening: '1 Oct 2024', duration: '3 Years', degree: 'BSc Computer Science and Engineering', structure: '180 ECTS. Project-based learning.', specializations: ['Software Engineering', 'Algorithms', 'Data Science', 'Cybersecurity'], research: 'BSc thesis project.', internships: 'Optional.', partners: ['ASML', 'Philips', 'Shell', 'KPN'], admissionReq: 'CBSE/ISC with 80%+. Maths & Physics required. Selection test required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'CV', 'Motivation Letter'], appFee: '€100', tuition: 17750, tuitionLocal: '€17,750', scholarships: 'TU Delft Excellence Scholarship (Full tuition + living costs).', onCampusHousing: 'Limited, competitive.', offCampusHousing: '€400 - €800/month. Very competitive.', livingExpenses: '€900 - €1,500/month.', visa: '1-year orientation year visa.', careerProspects: 'Excellent in EU tech sector. Avg. salary €45k-€55k.', employability: 'Very high.', alumni: ['N/A'], intlStudents: '30%', culture: 'International, engineering-focused, collaborative.', weather: 'Temperate maritime.', reputation: 'Top-tier global engineering & CS reputation.', pros: ['World-class technical education', 'Relatively affordable tuition', 'Strong EU career prospects'], cons: ['Extreme housing shortage', 'Numerus Fixus (limited spots)', 'Rigorous curriculum'], reviews: 'Students praise education quality but warn about housing crisis.', rating: 9.0 },
            { id: 'vuamsterdam', name: 'Vrije Universiteit Amsterdam', country: 'Netherlands', qsRank: 207, location: 'Amsterdam, Netherlands', website: 'https://vu.nl/en/education/bachelor/computer-science', type: 'Public Research University', appDeadlines: '1 May 2025', appOpening: '1 Oct 2024', duration: '3 Years', degree: 'BSc Computer Science', structure: '180 ECTS. Mix of theory, projects, and practicals.', specializations: ['AI', 'Software Engineering', 'Internet & Security'], research: 'BSc thesis.', internships: 'Encouraged.', partners: 'Collaborations with Amsterdam Science Park companies.', admissionReq: 'CBSE/ISC with good grades. Maths proficiency required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 92', docs: ['Transcripts', 'Diploma', 'Passport'], appFee: '€100', tuition: 14000, tuitionLocal: '€14,000', scholarships: 'VU Fellowship Programme (€10,000 towards tuition).', onCampusHousing: 'Limited, lottery system.', offCampusHousing: '€500 - €900/month. Extremely difficult.', livingExpenses: '€1,000 - €1,600/month.', visa: '1-year orientation year visa.', careerProspects: 'Strong in Amsterdam\'s tech scene (Booking.com, Adyen).', employability: 'Good.', alumni: ['N/A'], intlStudents: '20%', culture: 'Diverse, open, in a vibrant global city.', weather: 'Temperate maritime.', reputation: 'Strong national reputation.', pros: ['Located in Amsterdam tech hub', 'Relatively affordable tuition', 'Good theory/practice balance'], cons: ['Severe housing shortage', 'Lower global ranking'], reviews: 'Positive reviews on student life, major complaints about housing.', rating: 8.2 },
            { id: 'eindhoven', name: 'Eindhoven University of Technology', country: 'Netherlands', qsRank: 124, location: 'Eindhoven, Netherlands', website: 'https://www.tue.nl/en/education/bachelor-college/bachelor-computer-science-and-engineering', type: 'Public Technical University', appDeadlines: '15 Jan 2025 (Numerus Fixus)', appOpening: '1 Oct 2024', duration: '3 Years', degree: 'BSc Computer Science and Engineering', structure: '180 ECTS. Challenge-based learning.', specializations: ['Software Science', 'Web Science', 'Systems Science'], research: 'BSc thesis.', internships: 'Optional.', partners: 'Located in Brainport Eindhoven (Philips, ASML, NXP).', admissionReq: 'CBSE/ISC with 75%+. Maths & Physics required. Selection procedure.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'CV', 'Motivation Letter'], appFee: '€100', tuition: 13000, tuitionLocal: '€12,000', scholarships: 'Holland Scholarship.', onCampusHousing: 'Not guaranteed.', offCampusHousing: '€400 - €700/month. Competitive.', livingExpenses: '€800 - €1,300/month.', visa: '1-year orientation year visa.', careerProspects: 'Excellent, direct access to Brainport companies.', employability: 'Very high.', alumni: ['N/A'], intlStudents: '22%', culture: 'Highly international, collaborative, entrepreneurial.', weather: 'Temperate maritime.', reputation: 'World-class for engineering and industry collaboration.', pros: ['Located in Europe\'s top innovation hub', 'Affordable tuition', 'Challenge-based learning'], cons: ['Competitive housing market', 'Numerus Fixus (limited spots)'], reviews: 'Praised for its practical approach and close ties to high-tech industry.', rating: 8.9 },
            { id: 'groningen', name: 'University of Groningen', country: 'Netherlands', qsRank: 139, location: 'Groningen, Netherlands', website: 'https://www.rug.nl/bachelors/computer-science/', type: 'Public Research University', appDeadlines: '1 May 2025', appOpening: '1 Oct 2024', duration: '3 Years', degree: 'BSc Computing Science', structure: '180 ECTS. Strong mathematical and logical focus.', specializations: ['Software Engineering', 'AI', 'Computational Science'], research: 'Strong links to Bernoulli Institute.', internships: 'Optional.', partners: ['N/A'], admissionReq: 'CBSE/ISC with good grades. Strong Maths background.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'Passport', 'English test'], appFee: '€75', tuition: 17000, tuitionLocal: '€15,600', scholarships: 'Holland Scholarship.', onCampusHousing: 'Not guaranteed.', offCampusHousing: '€350 - €600/month. More manageable.', livingExpenses: '€800 - €1,200/month.', visa: '1-year orientation year visa.', careerProspects: 'Good, with a strong theoretical foundation.', employability: 'High.', alumni: ['N/A'], intlStudents: '25%', culture: 'Classic student city, vibrant and international.', weather: 'Temperate maritime.', reputation: 'Oldest and most respected university in the Netherlands.', pros: ['Strong theoretical focus', 'Vibrant student city with lower living costs', 'High-quality research'], cons: ['Less industry-focused', 'Fewer ties to major tech hubs'], reviews: 'Praised for academic quality and social life of Groningen city.', rating: 8.3 },
            { id: 'aalto', name: 'Aalto University', country: 'Finland', qsRank: 109, location: 'Espoo, Finland', website: 'https://www.aalto.fi/en/study-options/bachelors-programme-in-science-and-technology-computer-science', type: 'Public Research University', appDeadlines: '17 Jan 2025', appOpening: '3 Jan 2025', duration: '3 Years', degree: 'BSc (Technology)', structure: '180 ECTS. Common first year, then specialization.', specializations: ['Computer Science', 'Data Science', 'Software and Information Systems'], research: 'Research-based bachelor\'s thesis.', internships: 'Supported.', partners: ['Nokia', 'Supercell', 'Rovio', 'Kone'], admissionReq: 'SAT score (1350+ recommended).', englishTests: 'SAT is primary proof.', docs: ['Transcripts', 'SAT scores', 'Passport'], appFee: 'None', tuition: 15000, tuitionLocal: '€12,000', scholarships: 'Aalto Scholarship (50% or 100% tuition waiver).', onCampusHousing: 'Available via AYY/HOAS, but competitive.', offCampusHousing: '€400 - €700/month. Challenging.', livingExpenses: '€800 - €1,200/month.', visa: '2-year post-study work visa.', careerProspects: 'Excellent in Nordic tech/gaming scene.', employability: 'Very high.', alumni: ['Founders of many Finnish tech startups.'], intlStudents: '25%', culture: 'Innovative, entrepreneurial, strong design focus.', weather: 'Humid continental.', reputation: 'Top Nordic university for tech and design.', pros: ['Excellent reputation in tech/gaming', 'No application fee', 'Generous scholarships', '2-year post-study visa'], cons: ['Highly competitive admissions', 'Cold, dark winters', 'Housing can be difficult'], reviews: 'Praised for its interdisciplinary approach and startup culture.', rating: 8.8 },
            { id: 'helsinki', name: 'University of Helsinki', country: 'Finland', qsRank: 116, location: 'Helsinki, Finland', website: 'https://www.helsinki.fi/en/apply/bachelors-programme-in-science', type: 'Public Research University', appDeadlines: '17 Jan 2025', appOpening: '3 Jan 2025', duration: '3 Years', degree: 'BSc (Computer Science track)', structure: '180 ECTS. General BSc with CS track.', specializations: ['Algorithms', 'AI', 'Data Science', 'Networking'], research: 'Strong connection to Finnish Center for AI (FCAI).', internships: 'Optional.', partners: 'Strong links with Finnish tech ecosystem.', admissionReq: 'SAT scores are primary method.', englishTests: 'SAT acts as proof.', docs: ['Transcripts', 'SAT scores', 'Passport'], appFee: 'None', tuition: 16500, tuitionLocal: '€15,000', scholarships: 'Scholarship Programme (100% tuition waiver + €5,000 grant).', onCampusHousing: 'Available via HOAS, but competitive.', offCampusHousing: '€500 - €800/month. Challenging.', livingExpenses: '€800 - €1,300/month.', visa: '2-year post-study work visa.', careerProspects: 'Very good in Helsinki\'s tech scene.', employability: 'High.', alumni: ['Linus Torvalds (creator of Linux).'], intlStudents: '10%', culture: 'Traditional, research-intensive, academic.', weather: 'Humid continental.', reputation: 'Finland\'s oldest and highest-ranked university.', pros: ['Top-ranked Finnish university', 'Strong theoretical focus', 'Generous scholarships', 'No application fee'], cons: ['Less industry-focused than Aalto', 'Lower international student %', 'Cold, dark winters'], reviews: 'Praised for its high academic standards and research quality.', rating: 8.6 },
            { id: 'tampere', name: 'Tampere University', country: 'Finland', qsRank: 280, location: 'Tampere, Finland', website: 'https://www.tuni.fi/en/study-with-us/programmes/bachelors-programmes/science-and-engineering', type: 'Public Research University', appDeadlines: '17 Jan 2025', appOpening: '3 Jan 2025', duration: '3 Years', degree: 'BSc (Technology) (Computing and Electrical Eng)', structure: '180 ECTS. Interdisciplinary program.', specializations: ['Software Development', 'Embedded Systems', 'Communications'], research: 'Strong research in signal processing and HCI.', internships: 'Supported.', partners: 'Good connections with local industry.', admissionReq: 'SAT scores.', englishTests: 'SAT acts as proof.', docs: ['Transcripts', 'SAT scores', 'Passport'], appFee: 'None', tuition: 13200, tuitionLocal: '€12,000', scholarships: 'Tampere University Scholarships (50% or 100% waiver).', onCampusHousing: 'Available via TOAS, more affordable.', offCampusHousing: '€300 - €500/month.', livingExpenses: '€700 - €1,100/month.', visa: '2-year post-study work visa.', careerProspects: 'Good in Tampere industrial and tech ecosystem.', employability: 'Good.', alumni: ['N/A'], intlStudents: '7%', culture: 'Collaborative, practical, strong engineering focus.', weather: 'Humid continental.', reputation: 'A leading university for technology in Finland.', pros: ['Affordable tuition and living costs', 'Practical, interdisciplinary program', 'No application fee'], cons: ['Lower global ranking', 'Smaller international community'], reviews: 'Positive reviews on quality of life and practical nature of studies.', rating: 7.9 },
            { id: 'tcd', name: 'Trinity College Dublin', country: 'Ireland', qsRank: 87, location: 'Dublin, Ireland', website: 'https://www.tcd.ie/courses/undergraduate/az/course.php?id=UBCSC-CSCI-1F09', type: 'Public Research University', appDeadlines: '1 Feb 2025 (via CAO)', appOpening: 'Nov 2024', duration: '4-5 Years', degree: 'BSc (Honours) in Computer Science', structure: '4-year BSc or 5-year integrated Masters.', specializations: ['AI', 'Computer Graphics', 'Networks', 'Software Engineering'], research: 'Final year research project.', internships: 'Optional 3-6 month internship.', partners: ['Google', 'Microsoft', 'Amazon', 'Intel'], admissionReq: 'CBSE/ISC: 90%+. Maths prerequisite.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'LORs', 'SOP'], appFee: '€55', tuition: 29500, tuitionLocal: '€29,500', scholarships: 'Global Excellence Scholarship (€1,000 - €5,000 reduction).', onCampusHousing: 'Extremely limited, not guaranteed.', offCampusHousing: '€700 - €1,200/month. Severe housing crisis.', livingExpenses: '€1,200 - €1,800/month.', visa: '1-2 year post-study work visa.', careerProspects: 'Excellent access to EU HQs of major tech firms.', employability: '#1 in Ireland for graduate employability.', alumni: ['N/A'], intlStudents: '28%', culture: 'Historic, prestigious, vibrant city-center campus.', weather: 'Temperate maritime.', reputation: 'Ireland\'s top university.', pros: ['Top-ranked Irish university', 'Prime location in "Silicon Docks"', 'Strong industry connections'], cons: ['Severe housing crisis', 'Very high cost of living', 'Limited on-campus housing'], reviews: 'Highly positive about academics and social life, but with strong warnings about housing.', rating: 8.5 },
            { id: 'ucd', name: 'University College Dublin', country: 'Ireland', qsRank: 126, location: 'Dublin, Ireland', website: 'https://www.myucd.ie/courses/computer-science/', type: 'Public Research University', appDeadlines: '15 July 2025 (direct)', appOpening: '1 Oct 2024', duration: '4 Years', degree: 'BSc Computer Science', structure: '4-year degree with optional integrated Master\'s.', specializations: ['AI', 'Data Science', 'Software Engineering'], research: 'Final year research project.', internships: 'Optional 5-8 month internship.', partners: 'Strong links with tech companies in Dublin (Google, Meta, Microsoft).', admissionReq: 'CBSE/ISC: 80%+', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'Passport', 'English test'], appFee: '€50', tuition: 31500, tuitionLocal: '€29,100', scholarships: 'Global Excellence Scholarship (50% or 100% waiver).', onCampusHousing: 'Available, but very high demand.', offCampusHousing: '€700 - €1,200/month. Severe housing crisis.', livingExpenses: '€1,200 - €1,800/month.', visa: '1-2 year post-study work visa.', careerProspects: 'Excellent, high demand from multinational tech companies.', employability: '#1 in Ireland for graduate employability for 5 consecutive years.', alumni: ['N/A'], intlStudents: '30%', culture: 'Large, modern campus with diverse student life.', weather: 'Temperate maritime.', reputation: 'Ireland\'s largest and most globally engaged university.', pros: ['Top-ranked for employability in Ireland', 'Strong industry links', 'Generous scholarships'], cons: ['Severe housing crisis', 'High cost of living'], reviews: 'Praised for modern facilities and strong career focus.', rating: 8.4 },
            { id: 'auckland', name: 'University of Auckland', country: 'New Zealand', qsRank: 65, location: 'Auckland, New Zealand', website: 'https://www.auckland.ac.nz/en/study/study-options/find-a-study-option/bachelor-of-engineering-honours-in-computer-systems-engineering.html', type: 'Public Research University', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) in Computer Systems Engineering', structure: '4-year accredited professional engineering degree.', specializations: ['Computer hardware and software systems', 'embedded systems', 'robotics'], research: 'Required Honours research project.', internships: "800 hours of practical work experience required.", partners: ['Fisher & Paykel', 'Datacom', 'Microsoft NZ', 'Rocket Lab'], admissionReq: 'CBSE/ISC: 75%+. Maths & Physics required.', englishTests: 'IELTS: 6.0, TOEFL iBT: 80', docs: ['Transcripts', 'Passport'], appFee: 'None', tuition: 29000, tuitionLocal: 'NZD $48,000', scholarships: 'International Student Excellence Scholarship (up to NZD $10,000).', onCampusHousing: 'Guaranteed for first years.', offCampusHousing: '€400 - €700/month.', livingExpenses: 'NZD $1,500 - $2,000/month.', visa: '3-year post-study work visa.', careerProspects: 'Good prospects in NZ\'s growing tech/hardware sectors.', employability: 'Top-ranked in NZ for employability.', alumni: ['N/A'], intlStudents: '29%', culture: 'Largest university in NZ, diverse and multicultural.', weather: 'Subtropical.', reputation: '#1 university in New Zealand.', pros: ['#1 in New Zealand', 'Generous 3-year post-study visa', 'No application fee'], cons: ['High tuition and living costs', 'Geographically isolated', 'Smaller tech market'], reviews: 'Positive about education quality and lifestyle in Auckland.', rating: 8.3 },
            { id: 'otago', name: 'University of Otago', country: 'New Zealand', qsRank: 198, location: 'Dunedin, New Zealand', website: 'https://www.otago.ac.nz/courses/subjects/cosc.html', type: 'Public Research University', appDeadlines: 'Varies', appOpening: 'Open', duration: '3 Years', degree: 'BSc in Computer Science', structure: '3-year degree with strong focus on core CS principles.', specializations: ['AI', 'Graphics', 'Computer Theory', 'Software Engineering'], research: 'Final year research projects available.', internships: 'Optional.', partners: 'Good links with Dunedin\'s gaming and tech industry.', admissionReq: 'CBSE/ISC: 75%+', englishTests: 'IELTS: 6.0, TOEFL iBT: 80', docs: ['Transcripts', 'Passport'], appFee: 'None', tuition: 23000, tuitionLocal: 'NZD $38,000', scholarships: 'Vice-Chancellor\'s Scholarship for International Students (NZD $10,000).', onCampusHousing: 'Guaranteed for first years.', offCampusHousing: 'Affordable and student-focused rental market.', livingExpenses: 'NZD $1,000 - $1,500/month.', visa: '3-year post-study work visa.', careerProspects: 'Good, particularly in New Zealand.', employability: 'High.', alumni: ['N/A'], intlStudents: '15%', culture: 'New Zealand\'s most traditional "college town" experience.', weather: 'Temperate.', reputation: 'New Zealand\'s oldest university.', pros: ['Affordable tuition and very low living costs', 'Classic student city experience', 'Strong sense of community'], cons: ['Lower global ranking', 'Smaller city and tech scene'], reviews: 'Highly praised for its student life and residential college system.', rating: 7.8 },
            { id: 'vuw', name: 'Victoria University of Wellington', country: 'New Zealand', qsRank: 241, location: 'Wellington, New Zealand', website: 'https://www.wgtn.ac.nz/explore/degrees/bachelor-of-engineering-with-honours/overview', type: 'Public Research University', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Software Engineering)', structure: '4-year accredited professional engineering degree.', specializations: ['Software Engineering', 'AI', 'Graphics', 'Cybersecurity'], research: 'Required final year Honours project.', internships: "Mandatory 800 hours of work experience.", partners: 'Strong links with Wellington\'s creative tech and government sectors (Weta Digital).', admissionReq: 'CBSE/ISC: 75%+', englishTests: 'IELTS: 6.0, TOEFL iBT: 80', docs: ['Transcripts', 'Passport'], appFee: 'None', tuition: 24000, tuitionLocal: 'NZD $40,000', scholarships: 'Wellington International Excellence Scholarship (NZD $10,000).', onCampusHousing: 'Available.', offCampusHousing: 'Available in city apartments and suburbs.', livingExpenses: 'NZD $1,400 - $1,900/month.', visa: '3-year post-study work visa.', careerProspects: 'Excellent, especially in creative tech, film, and government.', employability: 'High, #1 in NZ for research intensity.', alumni: ['N/A'], intlStudents: '15%', culture: 'Capital city university with a creative and vibrant culture.', weather: 'Temperate maritime, windy.', reputation: 'Strong in creative arts, with a growing engineering school.', pros: ['Located in capital city with unique creative tech scene', 'Direct BEng with mandatory work experience', 'Strong government links'], cons: ['Lower global ranking', 'Smaller university'], reviews: 'Praised for its location and connections to the creative industries.', rating: 8.0 },
            { id: 'canterbury', name: 'University of Canterbury', country: 'New Zealand', qsRank: 256, location: 'Christchurch, New Zealand', website: 'https://www.canterbury.ac.nz/engineering/schools/computer-science-and-software-engineering/', type: 'Public Research University', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Software Engineering)', structure: '4-year accredited professional engineering degree.', specializations: ['Software Engineering', 'AI', 'Data Science'], research: 'Final year Honours project.', internships: "Mandatory 800 hours of practical work.", partners: 'Good links with the South Island\'s tech and agricultural tech sectors.', admissionReq: 'CBSE/ISC: 75%+', englishTests: 'IELTS: 6.0, TOEFL iBT: 80', docs: ['Transcripts', 'Passport'], appFee: 'None', tuition: 25000, tuitionLocal: 'NZD $41,460', scholarships: 'International First Year Scholarship (up to NZD $15,000).', onCampusHousing: 'Available.', offCampusHousing: 'Affordable rental market.', livingExpenses: 'NZD $1,000 - $1,500/month.', visa: '3-year post-study work visa.', careerProspects: 'Good, with a focus on engineering and innovation.', employability: 'High.', alumni: ['N/A'], intlStudents: '12%', culture: 'A strong engineering school with a resilient and innovative spirit.', weather: 'Temperate.', reputation: 'New Zealand\'s first university with an engineering school.', pros: ['Strong engineering reputation', 'Affordable tuition and living costs', 'Modern, rebuilt city'], cons: ['Lower global ranking', 'Smaller city and tech scene'], reviews: 'Praised for its strong engineering program and supportive community.', rating: 7.7 }
        ];

        let rankingsChart, tuitionChart;
        let currentFilter = 'All';
        let chatHistory = [];

        const countryColors = {
            'Singapore': 'rgba(255, 99, 132, 0.8)',
            'Australia': 'rgba(54, 162, 235, 0.8)',
            'Netherlands': 'rgba(255, 159, 64, 0.8)',
            'Finland': 'rgba(75, 192, 192, 0.8)',
            'Ireland': 'rgba(22, 163, 74, 0.8)',
            'New Zealand': 'rgba(153, 102, 255, 0.8)'
        };
        
        const countryDarkColors = {
            'Singapore': 'rgba(255, 129, 152, 0.9)',
            'Australia': 'rgba(84, 182, 255, 0.9)',
            'Netherlands': 'rgba(255, 179, 94, 0.9)',
            'Finland': 'rgba(105, 212, 212, 0.9)',
            'Ireland': 'rgba(52, 193, 104, 0.9)',
            'New Zealand': 'rgba(173, 132, 255, 0.9)'
        };

        const countryBorderColors = {
            'Singapore': 'rgba(255, 99, 132, 1)',
            'Australia': 'rgba(54, 162, 235, 1)',
            'Netherlands': 'rgba(255, 159, 64, 1)',
            'Finland': 'rgba(75, 192, 192, 1)',
            'Ireland': 'rgba(22, 163, 74, 1)',
            'New Zealand': 'rgba(153, 102, 255, 1)'
        };

        document.addEventListener('DOMContentLoaded', () => {
            setupTheme();
            setupFilters();
            renderGrid();
            setupCharts();
            setupModal();
        });

        function setupTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');

            const applyTheme = (isDark) => {
                if (isDark) {
                    document.documentElement.classList.add('dark');
                    lightIcon.classList.add('hidden');
                    darkIcon.classList.remove('hidden');
                } else {
                    document.documentElement.classList.remove('dark');
                    darkIcon.classList.add('hidden');
                    lightIcon.classList.remove('hidden');
                }
                if (rankingsChart) {
                    updateCharts();
                }
            };

            const userPrefersDark = localStorage.getItem('theme') === 'dark' || 
                                    (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'));
            
            applyTheme(userPrefersDark);

            themeToggle.addEventListener('click', () => {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                applyTheme(isDark);
            });
        }

        function setupFilters() {
            const countries = ['All', ...new Set(universityData.map(u => u.country))];
            const filterContainer = document.getElementById('country-filter-buttons');
            filterContainer.innerHTML = countries.map(country => `
                <button class="country-filter-btn px-4 py-2 rounded-full text-sm font-semibold border-2 transition-all duration-300" data-country="${country}">
                    ${country}
                </button>
            `).join('');
            
            filterContainer.querySelectorAll('.country-filter-btn').forEach(button => {
                button.addEventListener('click', () => {
                    currentFilter = button.dataset.country;
                    updateActiveButton(button);
                    renderGrid();
                    updateCharts();
                });
            });
            updateActiveButton(filterContainer.querySelector('[data-country="All"]'));
        }

        function updateActiveButton(activeButton) {
            document.querySelectorAll('.country-filter-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white', 'border-blue-600', 'shadow-md');
                btn.classList.add('bg-white', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-200', 'border-gray-300', 'dark:border-gray-600', 'hover:bg-gray-100', 'dark:hover:bg-gray-600');
            });
            activeButton.classList.remove('bg-white', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-200', 'border-gray-300', 'dark:border-gray-600', 'hover:bg-gray-100', 'dark:hover:bg-gray-600');
            activeButton.classList.add('bg-blue-600', 'text-white', 'border-blue-600', 'shadow-md');
        }

        function renderGrid() {
            const grid = document.getElementById('university-grid');
            let filteredData = currentFilter === 'All' ? universityData : universityData.filter(u => u.country === currentFilter);
            
            filteredData.sort((a, b) => a.qsRank - b.qsRank);

            grid.innerHTML = filteredData.map(uni => `
                <div class="university-card rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col" data-id="${uni.id}">
                    <div class="p-5 flex-grow">
                        <div class="flex justify-between items-start mb-3">
                            <span class="text-xs font-bold uppercase tracking-wider" style="color: ${document.documentElement.classList.contains('dark') ? countryDarkColors[uni.country] : countryColors[uni.country]}">${uni.country}</span>
                            <div class="flex items-center space-x-1 text-amber-500 dark:text-amber-400">
                                <span class="font-bold text-sm">${uni.rating}</span>
                                <span class="text-lg">★</span>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-text-light-primary dark:text-text-dark-primary mb-1">${uni.name}</h3>
                        <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mb-4">${uni.location}</p>
                    </div>
                    <div class="px-5 py-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-100 dark:border-gray-700 rounded-b-xl">
                        <div class="flex justify-between items-center text-sm">
                            <div>
                                <p class="text-text-light-secondary dark:text-text-dark-secondary">QS Rank</p>
                                <p class="font-bold text-text-light-primary dark:text-text-dark-primary text-lg">#${uni.qsRank}</p>
                            </div>
                            <div>
                                <p class="text-text-light-secondary dark:text-text-dark-secondary">Tuition/yr (USD)</p>
                                <p class="font-bold text-text-light-primary dark:text-text-dark-primary text-lg">$${uni.tuition.toLocaleString()}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            document.querySelectorAll('.university-card').forEach(card => {
                card.addEventListener('click', () => showModal(card.dataset.id));
            });
        }
        
        function getChartTickColor() { return document.documentElement.classList.contains('dark') ? 'rgba(226, 232, 240, 0.8)' : 'rgba(74, 85, 104, 0.8)'; }
        function getChartGridColor() { return document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)'; }

        function updateChartColors() {
            const tickColor = getChartTickColor();
            const gridColor = getChartGridColor();
            const isDark = document.documentElement.classList.contains('dark');

            [rankingsChart, tuitionChart].forEach(chart => {
                if(chart) {
                    chart.options.scales.x.ticks.color = tickColor;
                    chart.options.scales.y.ticks.color = tickColor;
                    chart.options.scales.x.grid.color = gridColor;
                    chart.options.scales.y.grid.color = gridColor;
                    chart.options.plugins.tooltip.backgroundColor = isDark ? '#0d1117' : '#1f2937';
                    chart.data.datasets[0].backgroundColor = getChartData(chart.canvas.id === 'rankingsChart' ? 'qsRank' : 'tuition').datasets[0].backgroundColor;
                    chart.update();
                }
            });
        }

        function setupCharts() {
            const rankingsCtx = document.getElementById('rankingsChart').getContext('2d');
            rankingsChart = new Chart(rankingsCtx, { type: 'bar', data: getChartData('qsRank', false), options: getChartOptions('QS World Ranking', false) });
            const tuitionCtx = document.getElementById('tuitionChart').getContext('2d');
            tuitionChart = new Chart(tuitionCtx, { type: 'bar', data: getChartData('tuition', true), options: getChartOptions('Annual Tuition (USD)', true) });
        }
        
        function updateCharts() {
            const rankingsData = getChartData('qsRank', false);
            rankingsChart.data.labels = rankingsData.labels;
            rankingsChart.data.datasets[0].data = rankingsData.datasets[0].data;
            rankingsChart.options.scales.y.reverse = true;
            
            const tuitionData = getChartData('tuition', true);
            tuitionChart.data.labels = tuitionData.labels;
            tuitionChart.data.datasets[0].data = tuitionData.datasets[0].data;
            tuitionChart.options.scales.y.reverse = false;

            updateChartColors();
        }

        function getChartData(key, isCurrency) {
            let filteredData = currentFilter === 'All' ? universityData : universityData.filter(u => u.country === currentFilter);
            filteredData.sort((a, b) => (key === 'qsRank' ? a[key] - b[key] : b[key] - a[key]));
            const isDark = document.documentElement.classList.contains('dark');

            return {
                labels: filteredData.map(u => u.name.length > 20 ? u.name.substring(0, 18) + '...' : u.name),
                datasets: [{
                    label: key === 'qsRank' ? 'QS Rank' : 'Tuition (USD)',
                    data: filteredData.map(u => u[key]),
                    backgroundColor: filteredData.map(u => isDark ? countryDarkColors[u.country] : countryColors[u.country]),
                    borderColor: filteredData.map(u => countryBorderColors[u.country]),
                    borderWidth: 1.5,
                    borderRadius: 5
                }]
            };
        }

        function getChartOptions(label, isCurrency) {
            const tickColor = getChartTickColor();
            const gridColor = getChartGridColor();
            const isDark = document.documentElement.classList.contains('dark');
            const options = {
                maintainAspectRatio: false,
                responsive: true,
                indexAxis: isCurrency ? 'y' : 'x',
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: isDark ? '#0d1117' : '#1f2937',
                        titleColor: '#e2e8f0',
                        bodyColor: '#e2e8f0',
                        titleFont: { size: 14, weight: 'bold' },
                        bodyFont: { size: 12 },
                        padding: 12,
                        cornerRadius: 8,
                        borderColor: 'rgba(255,255,255,0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const uniName = context.chart.data.labels[context.dataIndex];
                                let value = context.raw;
                                value = isCurrency ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(value) : `#${value}`;
                                return `${uniName}: ${value}`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: { color: tickColor, font: { weight: '500' }, callback: value => isCurrency ? '$' + (value / 1000) + 'k' : value },
                        grid: { color: gridColor, drawOnChartArea: !isCurrency }
                    },
                    y: {
                        ticks: { color: tickColor, font: { weight: '500' }, autoSkip: false },
                        grid: { color: gridColor, drawOnChartArea: isCurrency }
                    }
                }
            };
            if (!isCurrency) {
                options.scales.y.reverse = true;
            }
            return options;
        }

        function setupModal() {
            const modal = document.getElementById('university-modal');
            const closeModalBtn = document.getElementById('close-modal');
            closeModalBtn.addEventListener('click', () => modal.classList.add('hidden'));
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.add('hidden'); });
        }
        
        function showModal(uniId) {
            const uni = universityData.find(u => u.id === uniId);
            if (!uni) return;
            document.getElementById('modal-university-name').textContent = uni.name;
            document.getElementById('modal-university-location').textContent = uni.location;
            const tabs = [ { name: 'Admissions & Academics', icon: '🎓' }, { name: 'Costs & Housing', icon: '💰' }, { name: 'Career & Culture', icon: '📈' }, { name: 'AI Insights', icon: '✨' }, { name: 'Pros & Cons', icon: '⚖️' } ];
            const tabsContainer = document.getElementById('modal-tabs');
            tabsContainer.innerHTML = tabs.map((tab, index) => `<button class="modal-tab-btn whitespace-nowrap py-2 px-3.5 text-xs font-medium text-center rounded-full transition-colors ${index === 0 ? 'tab-active' : 'tab-inactive'}" data-tab="${tab.name}"><span class="hidden md:inline">${tab.icon} </span>${tab.name}</button>`).join('');
            document.querySelectorAll('.modal-tab-btn').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.modal-tab-btn').forEach(btn => { btn.classList.remove('tab-active'); btn.classList.add('tab-inactive'); });
                    button.classList.add('tab-active'); button.classList.remove('tab-inactive');
                    renderModalContent(uni, button.dataset.tab);
                });
            });
            renderModalContent(uni, tabs[0].name);
            document.getElementById('university-modal').classList.remove('hidden');
            document.getElementById('university-modal').classList.add('flex');
        }

        async function callGemini(prompt) {
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = "AIzaSyB22uyhnAGZ1Wc0OBNMf8XnQZEB3eWSq7o"; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
            
            const result = await response.json();

            if (result.candidates && result.candidates[0]?.content?.parts[0]?.text) {
                const text = result.candidates[0].content.parts[0].text;
                chatHistory.push({ role: "model", parts: [{ text: text }] });
                return text;
            }
            throw new Error("Unexpected API response structure.");
        }

        async function generateAiInsights(uni, button) {
            const contentContainer = document.getElementById('ai-insights-content');
            const loader = document.getElementById('ai-loader');
            const askAiContainer = document.getElementById('ask-ai-container');

            button.disabled = true;
            loader.classList.remove('hidden');
            contentContainer.innerHTML = '';
            chatHistory = [];

            const prompt = `You are an expert career counselor for aspiring computer science students. Based on the following university profile, generate a concise, bulleted list of potential career paths and job opportunities that a graduate from this program would be well-suited for. Mention specific roles, potential industries, and highlight any unique advantages this university's location or specializations might offer. University Profile: ${uni.name}, located in ${uni.location}, with a ${uni.degree} degree, specializations in ${uni.specializations.join(', ')}, and notable industry partners like ${uni.partners.join(', ')}. It has a strong reputation in ${uni.reputation}.`;

            try {
                const text = await callGemini(prompt);
                const formattedText = text.replace(/\*\*/g, '').replace(/\*\s/g, '').split('\n').filter(line => line.trim() !== '').map(line => `<li class="flex items-start py-1"><span class="mr-2 text-blue-500">✔</span><span>${line}</span></li>`).join('');
                contentContainer.innerHTML = `<ul class="space-y-2">${formattedText}</ul>`;
                askAiContainer.classList.remove('hidden');
            } catch (error) {
                contentContainer.innerHTML = `<p class="text-red-500">Sorry, something went wrong while generating insights. This may be due to a missing API key. Please try again later.</p>`;
                button.disabled = false;
            } finally {
                loader.classList.add('hidden');
            }
        }
        
        async function handleFollowUp(uni) {
            const questionInput = document.getElementById('follow-up-question');
            const question = questionInput.value.trim();
            if (!question) return;

            const thinkingIndicator = document.getElementById('thinking-indicator');
            const insightsContainer = document.getElementById('ai-insights-content');
            const sendBtn = document.getElementById('send-follow-up');
            const askAiContainer = document.getElementById('ask-ai-container');

            sendBtn.disabled = true;
            askAiContainer.classList.add('hidden');
            thinkingIndicator.classList.remove('hidden');
            
            const userQuestionHTML = `<div class="mt-4 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg"><p class="font-semibold text-text-light-primary dark:text-text-dark-primary">You:</p><p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">${question}</p></div>`;
            insightsContainer.insertAdjacentHTML('beforeend', userQuestionHTML);

            questionInput.value = '';

            try {
                const prompt = `Based on the previous conversation about ${uni.name}, answer this follow-up question: "${question}"`;
                const text = await callGemini(prompt);
                const formattedText = text.replace(/\*\*/g, '').replace(/\*\s/g, '').split('\n').filter(line => line.trim() !== '').map(line => `<li class="flex items-start py-1"><span class="mr-2 text-blue-500">✔</span><span>${line}</span></li>`).join('');
                const aiResponseHTML = `<div class="mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><p class="font-semibold text-blue-800 dark:text-blue-300">AI Counselor:</p><ul class="space-y-2">${formattedText}</ul></div>`;
                insightsContainer.insertAdjacentHTML('beforeend', aiResponseHTML);
            } catch (error) {
                const errorHTML = `<div class="mt-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg"><p class="text-red-500">Sorry, there was an error. Please try again.</p></div>`;
                insightsContainer.insertAdjacentHTML('beforeend', errorHTML);
            } finally {
                sendBtn.disabled = false;
                thinkingIndicator.classList.add('hidden');
                askAiContainer.classList.remove('hidden');
                contentContainer.parentElement.parentElement.scrollTop = contentContainer.parentElement.parentElement.scrollHeight;
            }
        }

        function renderModalContent(uni, activeTab) {
            const contentContainer = document.getElementById('modal-content');
            let content = '';
            const detailItem = (label, value, isLink = false) => {
                if (!value || value.length === 0) return '';
                const displayValue = isLink ? `<a href="${value}" target="_blank" class="text-blue-500 hover:underline break-all">${value}</a>` : Array.isArray(value) ? value.join(', ') : value;
                return `<div class="py-3 sm:grid sm:grid-cols-3 sm:gap-4"><dt class="text-sm font-medium text-text-light-secondary dark:text-text-dark-secondary">${label}</dt><dd class="mt-1 text-sm text-text-light-primary dark:text-text-dark-primary sm:mt-0 sm:col-span-2">${displayValue}</dd></div>`;
            };
            const prosConsItem = (items, isPro) => {
                const icon = isPro ? '<span class="text-emerald-500 dark:text-emerald-400 mr-2">✔</span>' : '<span class="text-rose-500 dark:text-rose-400 mr-2">✖</span>';
                return items.map(item => `<li class="flex items-start py-1">${icon}<span>${item}</span></li>`).join('');
            };
            switch (activeTab) {
                case 'Admissions & Academics': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Degree Awarded', uni.degree)}${detailItem('Program Duration', uni.duration)}${detailItem('Specializations', uni.specializations)}${detailItem('Program Structure', uni.structure)}${detailItem('Admission Requirements', uni.admissionReq)}${detailItem('Application Deadlines', uni.appDeadlines)}${detailItem('English Proficiency Tests', uni.englishTests)}${detailItem('Required Documents', uni.docs)}${detailItem('Research Opportunities', uni.research)}${detailItem('Internship / Co-op', uni.internships)}${detailItem('Official Program Website', uni.website, true)}</dl>`; break;
                case 'Costs & Housing': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Annual Tuition (USD)', `$${uni.tuition.toLocaleString()}`)}${detailItem('Annual Tuition (Local)', uni.tuitionLocal)}${detailItem('Application Fee', uni.appFee)}${detailItem('Scholarships', uni.scholarships)}${detailItem('On-Campus Housing', uni.onCampusHousing)}${detailItem('Off-Campus Housing', uni.offCampusHousing)}${detailItem('Avg. Monthly Living Expenses', uni.livingExpenses)}</dl>`; break;
                case 'Career & Culture': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Global Reputation (CS)', uni.reputation)}${detailItem('Employability / Satisfaction', uni.employability)}${detailItem('Career Prospects', uni.careerProspects)}${detailItem('Industry Partners', uni.partners)}${detailItem('Notable Alumni', uni.alumni)}${detailItem('Post-Study Work Visa', uni.visa)}${detailItem('Campus Culture', uni.culture)}${detailItem('International Student %', uni.intlStudents)}${detailItem('City Climate', uni.weather)}</dl>`; break;
                case 'AI Insights':
                    content = `
                        <div class="text-center">
                            <button id="generate-ai-btn" class="ai-button text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                                ✨ Generate Career Insights
                            </button>
                            <div id="ai-loader" class="loader mx-auto my-4 hidden"></div>
                            <div id="ai-insights-content" class="mt-4 text-left text-text-light-primary dark:text-text-dark-primary"></div>
                            <div id="ask-ai-container" class="mt-6 text-left hidden">
                                <button id="ask-ai-btn" class="w-full text-left font-semibold text-gray-700 dark:text-gray-200 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Ask a follow-up question...</button>
                                <div id="follow-up-form" class="hidden mt-4">
                                    <textarea id="follow-up-question" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" placeholder="e.g., What are the top 3 research labs for AI at this university?"></textarea>
                                    <button id="send-follow-up" class="mt-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Send</button>
                                </div>
                            </div>
                            <div id="thinking-indicator" class="hidden mt-4 flex items-center justify-center space-x-2">
                                <span class="text-gray-500 dark:text-gray-400">Thinking</span>
                                <div class="typing-indicator"><span></span><span></span><span></span></div>
                            </div>
                        </div>
                    `;
                    break;
                case 'Pros & Cons': content = `<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="text-text-light-primary dark:text-text-dark-primary"><h4 class="text-lg font-semibold text-emerald-700 dark:text-emerald-400 mb-2">Pros</h4><ul class="text-sm space-y-1">${prosConsItem(uni.pros, true)}</ul></div><div class="text-text-light-primary dark:text-text-dark-primary"><h4 class="text-lg font-semibold text-rose-700 dark:text-rose-400 mb-2">Cons</h4><ul class="text-sm space-y-1">${prosConsItem(uni.cons, false)}</ul></div></div><div class="mt-6 text-text-light-primary dark:text-text-dark-primary"><h4 class="text-lg font-semibold mb-2">Student Reviews Summary</h4><p class="text-sm bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg italic">"${uni.reviews}"</p></div>`; break;
            }
            contentContainer.innerHTML = content;

            if (activeTab === 'AI Insights') {
                const generateBtn = document.getElementById('generate-ai-btn');
                const askAiBtn = document.getElementById('ask-ai-btn');
                const followUpForm = document.getElementById('follow-up-form');
                const sendFollowUpBtn = document.getElementById('send-follow-up');

                generateBtn.addEventListener('click', () => generateAiInsights(uni, generateBtn));
                askAiBtn.addEventListener('click', () => followUpForm.classList.toggle('hidden'));
                sendFollowUpBtn.addEventListener('click', () => handleFollowUp(uni));
            }
        }
    </script>
</body>
</html>
